<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>手写reduce</title>
</head>
<body>
  <script>
    // 默认两个参数，第一个 函数，第二个 可选值

    var arr = [1, 2, 3, 1]
    // let res = arr.reduce((prev, item) => prev + item, 10)
    // console.log(res); // 16
     
    function reduce(arr, callback, defaultParam) {
      let total = defaultParam || arr[0]
      for (let i = defaultParam ? 0 : 1; i < arr.length; i++) {
        total = callback(total, arr[i])
      }
      return total
    }
    // 累加
    // var res = reduce(arr, (prev, item) => {
    //   return prev + item
    // }, 111)
    // console.log(res);

    // 去重
    var res = reduce(arr, (prev, item) => {
      !prev.includes(item) && prev.push(item)
      return prev  
    }, [])
    console.log(res);
  </script>
</body>
</html>